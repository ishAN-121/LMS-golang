<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <link rel="stylesheet" href="/assets/css/books.css" type = "text/css">
    <title>Add/Delete Books</title>
</head>
<body>
  <nav class="navbar navbar-light p-2">
    <div class = "justify-content-end"></div>
    <a class="navbar-brand" href="logout"><button type="button" class="btn btn-secondary">Logout</button></a>
    </nav>
    <div class="full-page center">
    <div class = "position">
    <h1 class="title">Add/Delete Books
    </h1></div>
    {{ if ne .Error ""}}
    <div class="alert alert-warning" role="alert">
        {{.Error}}
    </div>
    {{end}}
<table class="table size w-75 table-striped table-hover">
    <thead>
      <tr>
        <th scope="col">BookId</th>
        <th scope="col">Title</th>
        <th scope="col">Author</th>
        <th scope="col">Copies</th>
        <th scope="col">TotalCopies</th>
        <th scope="col" class = "text-center">Add</th>
        <th scope="col" class = "text-center">Delete</th>
      </tr>
    </thead>
    <tbody>
        {{range .Books}}
      <tr>
        <th scope="row">{{.Id}}</th>
        <td>{{.Title}}</td>
        <td>{{.Author}}</td>
        <td>{{.Copies}}</td>
        <td>{{.Totalcount}}</td>
        <td>
          <form action="/updateBook" method="POST">
            <div class="d-flex justify-content-center mb-3">
              <div class="col-sm-8 p-1">
                <input type="number" class="form-control" name = "copies" id="inlineFormInputName" placeholder="123">
                <input type = "hidden" name = "title" value = "{{.Title}}" class="form-control" >
                <input type = "hidden" name = "author" value = "{{.Author}}" class="form-control" >
                <input type="hidden" name="update" value="add" class="form-control"/>
              </div>
              <div class="col-auto p-1">
                <button type="submit" class="btn btn-outline-primary btn-sm m-1">Add</button>
              </div></form></td>
        <td><form action="/updateBook" method="POST"> 
          <div class="d-flex justify-content-center mb-3"><div class="col-sm-8 p-1">
            <input type="number" class="form-control" name="copies" id="floatingInput" placeholder="123">
            <input type = "hidden" name = "title" value = "{{.Title}}" class="form-control" >
            <input type = "hidden" name = "author" value = "{{.Author}}" class="form-control">
            <input type="hidden" name="update" value="delete" class="form-control"/>
            </div>
          <div class="col-auto p-1"><button class=" btn btn-outline-primary btn-sm m-1"type="submit"> Delete</button></div></form></td>
     </tr>
      {{ end}}
      </tbody>
  </table>
  
  <div class ="links">
  <a href = "\"><button type="button" class="btn btn-outline-primary btn-lg px-4">Home</button></a></div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script> </body>
  </html>